<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>è±†ç“£Top250æ•°æ®åˆ†æ</title>

  <link href="{{ url_for('static', filename='assets/img/favicon.png') }}" rel="icon">
  <link href="{{ url_for('static', filename='assets/img/apple-touch-icon.png') }}" rel="apple-touch-icon">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,600,600i,700,700i,900" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/icofont/icofont.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/boxicons/css/boxicons.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/animate.css/animate.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/venobox/venobox.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/aos/aos.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/style.css') }}" rel="stylesheet">

  <style>
      .search-container {
          margin-bottom: 25px;
          text-align: center;
      }
      .search-box {
          width: 60%;
          padding: 10px 20px;
          border-radius: 50px;
          border: 1px solid #ddd;
          box-shadow: 0 4px 6px rgba(0,0,0,0.05);
          outline: none;
          transition: all 0.3s;
      }
      .search-box:focus {
          border-color: #20b38e;
          box-shadow: 0 4px 10px rgba(32, 179, 142, 0.2);
          width: 65%;
      }

      /* æ’åå¾½ç« æ ·å¼ */
      .rank-badge {
          display: inline-block;
          width: 30px;
          height: 30px;
          line-height: 30px;
          text-align: center;
          border-radius: 50%;
          background-color: #eee;
          color: #666;
          font-weight: bold;
      }
      /* å‰ä¸‰åç»™ä¸åŒé¢œè‰² */
      .rank-1 { background-color: #ffc107; color: #fff; } /* é‡‘ */
      .rank-2 { background-color: #adb5bd; color: #fff; } /* é“¶ */
      .rank-3 { background-color: #e6a23c; color: #fff; } /* é“œ */

      .rating-score {
          color: #ff9800;
          font-weight: bold;
          font-size: 1.1em;
      }
  </style>
</head>

<body>

  <header id="header">
    <div class="container">
      <div class="logo float-left">
        <h1 class="text-light"><a href="/index"><span>Gushi</span></a></h1>
      </div>

      <nav class="nav-menu float-right d-none d-lg-block">
        <ul>
          <li><a href="/index">é¦–é¡µ<i class="la la-angle-down"></i></a></li>
          <li class="active"><a href="/movie">ç”µå½±</a></li>
          <li><a href="/score">è¯„åˆ†</a></li>
          <li><a href="/word">è¯äº‘</a></li>
          <li><a href="/aboutMe">å…³äºæˆ‘</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- ç”µå½±åˆ—è¡¨ä¸»ä½“åŒºåŸŸ -->
  <section id="team" class="team">
    <div class="container">
      <div class="section-title">
        <h2>è±†ç“£ç”µå½±Top250ç”µå½±</h2>
        <p>æ”¯æŒå®æ—¶æœç´¢ç­›é€‰</p>
      </div>

      <!-- æ”¹åŠ¨1ï¼šæ·»åŠ æœç´¢æ¡† -->
      <div class="search-container" data-aos="fade-up">
          <input type="text" id="searchInput" class="search-box" placeholder="ğŸ” è¾“å…¥ç”µå½±åã€å¯¼æ¼”ã€ç±»å‹æˆ–å¹´ä»½è¿›è¡Œæœç´¢...">
      </div>

      <section class="counts section-bg">
        <div class="container">
          <div class="table-responsive">
              <table class="table table-hover table-striped">
                  <thead class="thead-light">
                      <tr>
                          <th style="width: 80px;">æ’å</th>
                          <th>ç”µå½±åç§°</th>
                          <th>è¯„åˆ†</th>
                          <th>è¯„ä»·äººæ•°</th>
                          <th>ä¸€å¥è¯æ¦‚è¿°</th>
                          <th>å¹´ä»½</th>
                          <th>åœ°åŒº</th>
                          <th>åˆ†ç±»</th>
                      </tr>
                  </thead>
                  <tbody id="movieTableBody">
                      {% for movie in movies %}
                      <tr>
                          <td>
                              <span class="rank-badge 
                                {% if movie.rank == '1' %}rank-1
                                {% elif movie.rank == '2' %}rank-2
                                {% elif movie.rank == '3' %}rank-3
                                {% endif %}">
                                {{ movie['rank'] }}
                              </span>
                          </td>
                          <td style="font-weight: 600;">{{ movie['title'] }}</td>
                          <td class="rating-score">{{ movie['nums-rating'] }}</td>
                          <td>{{ movie['comment_nums'] }}</td>
                          <td style="font-style: italic; color: #666;">{{ movie['comment'] }}</td>
                          <td>{{ movie['year'] }}</td>
                          <td>{{ movie['country'] }}</td>
                          <td>
                              <span class="badge badge-info" style="font-weight: normal; background-color: #17a2b8;">
                                  {{ movie['classification'] }}
                              </span>
                          </td>
                      </tr>
                      {% endfor %}
                  </tbody>
              </table>
              <!-- æœç´¢æ— ç»“æœæ—¶çš„æç¤º -->
              <div id="noResult" style="display:none; text-align:center; padding: 20px; color: #666;">
                  æœªæ‰¾åˆ°ç›¸å…³ç”µå½±
              </div>
          </div>
        </div>
      </section>
    </div>
  </section>

  <!-- åº•éƒ¨ç‰ˆæƒ -->
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Gushi</span></strong>. All Rights Reserved
      </div>
    </div>
  </footer>

  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <!-- å¼•å…¥ JS -->
  <script src="{{ url_for('static', filename='assets/vendor/jquery/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/jquery.easing/jquery.easing.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/php-email-form/validate.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/jquery-sticky/jquery.sticky.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/venobox/venobox.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/waypoints/jquery.waypoints.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/counterup/counterup.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/isotope-layout/isotope.pkgd.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/aos/aos.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/main.js') }}"></script>

  <script>
      $(document).ready(function(){
        $("#searchInput").on("keyup", function() {
          var value = $(this).val().toLowerCase();
          var hasResult = false;
          
          $("#movieTableBody tr").filter(function() {
            var isMatch = $(this).text().toLowerCase().indexOf(value) > -1;
            $(this).toggle(isMatch);
            if(isMatch) hasResult = true;
          });

          if (!hasResult) {
              $("#noResult").show();
              if (value === "") $("#noResult").hide(); 
          } else {
              $("#noResult").hide();
          }
        });
      });
  </script>

</body>
</html>